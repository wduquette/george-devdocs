# 2021-12-10

- Did some additional clean up following the changes of the last few days.
- Adjusted the animation parameters
	- Currently, the step-size is .2 tiles, and the game loop is 50 milliseconds.
- The next step is moving the planning system into the game loop.
	- Clicking the mouse sets a target cell.
	- The planning system chooses either to use it or clear it.
	- Done!
- Observation, re: terrain passability
	- The Planner takes one view of terrain passability.
		- George can walk to something impassable, but not through it.
			- I.e., the last cell on the route can be impassable.
	- The Movement system takes a different view.
		- Whether a mobile should block the route during planning depends on whether the mobile can move while the mover does.
- Next Steps
	- Computing the route taking George's current capabilities into account.
		- To wit, he can walk
	- A "Bonk" effect when George tries to walk into a wall.

- Observation on Planning vs. Execution:
	- For George, all the Planner really needs to consider is:
		- Where does he want to go?  The clicked cell
		- Can he get there, in theory?  Yes or no.  If no, there's no plan (but maybe a warning)
		- If yes, what does he want to do there?
			- Stop
			- Trigger something triggerable
			- Attack a mobile
			- Talk to an NPC
		- And in principle, he might not need to be adjacent for some things.
	- This leads to a different design:
		- MoveTo(targetCell)
		- Attack(targetCell|Mobile)
		- Trigger(targetCell|Triggerable)
	- The Executor plans the route, slides him to the next cell, and then it executes again.
